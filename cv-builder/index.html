<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProCV Builder | Create Professional Resumes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Add this before the closing body tag in index.html -->
<script src="script.js"></script>
<script src="preview.js"></script>
<script src="ai-suggestions.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-file-alt"></i>
                <h1>Pro<span>CV</span> Builder</h1>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="exportPDF()">
                    <i class="fas fa-download"></i> Export PDF
                </button>
                <button class="nav-btn primary" onclick="saveProgress()">
                    <i class="fas fa-cloud-upload-alt"></i> Save Progress
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Left Panel - Form -->
        <div class="left-panel">
            <div class="form-wrapper">
                <!-- Progress Steps -->
                <div class="progress-steps">
                    <div class="step active" data-step="1">
                        <div class="step-circle">1</div>
                        <span>Personal</span>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">2</div>
                        <span>Experience</span>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <span>Education</span>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <span>Skills</span>
                    </div>
                </div>

                <!-- Form Sections -->
                <div class="form-sections">
                    <!-- Section 1: Personal Info -->
                    <section class="form-section active" id="section-1">
                        <div class="section-header">
                            <h2><i class="fas fa-user-circle"></i> Personal Information</h2>
                            <p>Tell us about yourself</p>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="fullName">
                                    <i class="fas fa-user"></i> Full Name *
                                </label>
                                <input type="text" id="fullName" placeholder="Johnathan Smith" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="jobTitle">
                                    <i class="fas fa-briefcase"></i> Professional Title *
                                </label>
                                <input type="text" id="jobTitle" placeholder="Senior Software Engineer" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="summary">
                                <i class="fas fa-comment-alt"></i> Professional Summary
                            </label>
                            <textarea id="summary" rows="4" placeholder="Passionate software engineer with 5+ years of experience..."></textarea>
                            <div class="hint">Write 3-4 sentences about your professional background</div>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-camera"></i> Profile Photo</label>
                            <div class="image-upload-container">
                                <div class="upload-area" id="uploadArea">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Drag & drop your photo or <span>browse</span></p>
                                    <input type="file" id="profilePhoto" accept="image/*" hidden>
                                </div>
                                <div class="image-preview" id="imagePreview"></div>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label><i class="fas fa-envelope"></i> Email *</label>
                                <div id="emails-container">
                                    <div class="multi-field">
                                        <input type="email" class="email-input" placeholder="john@example.com" required>
                                        <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="add-field-btn" onclick="addEmailField()">
                                    <i class="fas fa-plus"></i> Add Another Email
                                </button>
                            </div>

                            <div class="form-group">
                                <label><i class="fas fa-phone"></i> Phone *</label>
                                <div id="phones-container">
                                    <div class="multi-field">
                                        <input type="tel" class="phone-input" placeholder="+1 (123) 456-7890" required>
                                        <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="add-field-btn" onclick="addPhoneField()">
                                    <i class="fas fa-plus"></i> Add Another Phone
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-map-marker-alt"></i> Location</label>
                            <input type="text" id="location" placeholder="San Francisco, CA">
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-globe"></i> Links</label>
                            <div id="links-container">
                                <div class="multi-field">
                                    <select class="link-type">
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="github">GitHub</option>
                                        <option value="portfolio">Portfolio</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <input type="url" class="link-url" placeholder="https://linkedin.com/in/yourprofile">
                                    <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="button" class="add-field-btn" onclick="addLinkField()">
                                <i class="fas fa-plus"></i> Add Link
                            </button>
                        </div>
                    </section>

                    <!-- Section 2: Experience -->
                    <section class="form-section" id="section-2">
                        <div class="section-header">
                            <h2><i class="fas fa-briefcase"></i> Work Experience</h2>
                            <p>List your professional experience</p>
                        </div>
                        
                        <div id="experience-container">
                            <div class="experience-card">
                                <div class="card-header">
                                    <h3>Experience #1</h3>
                                    <button type="button" class="card-remove" onclick="removeExperience(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Job Title *</label>
                                        <input type="text" class="exp-title" placeholder="Senior Developer" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Company *</label>
                                        <input type="text" class="exp-company" placeholder="Tech Corp Inc." required>
                                    </div>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="month" class="exp-start">
                                    </div>
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="month" class="exp-end">
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="exp-current"> Currently working here
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Location</label>
                                    <input type="text" class="exp-location" placeholder="Remote / New York, NY">
                                </div>
                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea class="exp-description" rows="4" placeholder="Describe your responsibilities and achievements..."></textarea>
                                    <div class="hint">You are recommended to use bullet points for better formatting</div>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="add-section-btn" onclick="addExperience()">
                            <i class="fas fa-plus-circle"></i> Add Experience
                        </button>
                    </section>

                    <!-- Section 3: Education -->
                    <section class="form-section" id="section-3">
                        <div class="section-header">
                            <h2><i class="fas fa-graduation-cap"></i> Education</h2>
                            <p>Add your educational background</p>
                        </div>
                        
                        <div id="education-container">
                            <div class="education-card">
                                <div class="card-header">
                                    <h3>Education #1</h3>
                                    <button type="button" class="card-remove" onclick="removeEducation(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Institution *</label>
                                        <input type="text" class="edu-institution" placeholder="University of Technology" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Degree *</label>
                                        <input type="text" class="edu-degree" placeholder="Bachelor of Science" required>
                                    </div>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Field of Study</label>
                                        <input type="text" class="edu-field" placeholder="Computer Science">
                                    </div>
                                    <div class="form-group">
                                        <label>Graduation Year</label>
                                        <input type="number" class="edu-year" placeholder="2020" min="1900" max="2030">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Achievements</label>
                                    <textarea class="edu-achievements" rows="3" placeholder="Honors, awards, or notable projects..."></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="add-section-btn" onclick="addEducation()">
                            <i class="fas fa-plus-circle"></i> Add Education
                        </button>
                    </section>

                    <!-- Section 4: Skills & Referees -->
                    <section class="form-section" id="section-4">
                        <div class="section-header">
                            <h2><i class="fas fa-tools"></i> Skills & References</h2>
                            <p>Showcase your abilities and references</p>
                        </div>
                        
                        <!-- Skills -->
                        <div class="skills-section">
                            <h3><i class="fas fa-star"></i> Skills</h3>
                            <div id="skills-container">
                                <div class="skill-tags">
                                    <div class="skill-tag">
                                        <input type="text" placeholder="JavaScript" class="skill-input">
                                        <select class="skill-level">
                                            <option value="beginner">Beginner</option>
                                            <option value="intermediate">Intermediate</option>
                                            <option value="advanced" selected>Advanced</option>
                                            <option value="expert">Expert</option>
                                        </select>
                                        <button type="button" class="tag-remove" onclick="removeSkill(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-skill-btn" onclick="addSkill()">
                                <i class="fas fa-plus"></i> Add Skill
                            </button>
                        </div>

                        <!-- Languages -->
                        <div class="skills-section">
                            <h3><i class="fas fa-language"></i> Languages</h3>
                            <div id="languages-container">
                                <div class="language-tags">
                                    <div class="language-tag">
                                        <input type="text" placeholder="English" class="language-input">
                                        <select class="language-level">
                                            <option value="native">Native</option>
                                            <option value="fluent" selected>Fluent</option>
                                            <option value="intermediate">Intermediate</option>
                                            <option value="basic">Basic</option>
                                        </select>
                                        <button type="button" class="tag-remove" onclick="removeLanguage(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-skill-btn" onclick="addLanguage()">
                                <i class="fas fa-plus"></i> Add Language
                            </button>
                        </div>

                        <!-- Referees -->
                        <div class="referees-section">
                            <h3><i class="fas fa-user-check"></i> Referees</h3>
                            <div id="referees-container">
                                <div class="referee-card">
                                    <div class="card-header">
                                        <h4>Referee #1</h4>
                                        <button type="button" class="card-remove" onclick="removeReferee(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Name *</label>
                                            <input type="text" class="referee-name" placeholder="Sarah Johnson" required>
                                        </div>
                                        <div class="form-group">
                                            <label>Position</label>
                                            <input type="text" class="referee-position" placeholder="Senior Manager">
                                        </div>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Company</label>
                                            <input type="text" class="referee-company" placeholder="Tech Solutions Inc.">
                                        </div>
                                        <div class="form-group">
                                            <label>Relationship</label>
                                            <input type="text" class="referee-relationship" placeholder="Former Supervisor">
                                        </div>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="referee-email" placeholder="sarah@company.com">
                                        </div>
                                        <div class="form-group">
                                            <label>Phone</label>
                                            <input type="tel" class="referee-phone" placeholder="+1 (123) 456-7890">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Additional Notes</label>
                                        <textarea class="referee-notes" rows="2" placeholder="Optional notes..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-section-btn" onclick="addReferee()">
                                <i class="fas fa-plus-circle"></i> Add Referee
                            </button>
                        </div>
                    </section>

                    <!-- Navigation Buttons -->
                    <div class="form-navigation">
                        <button type="button" class="nav-btn prev-btn" onclick="prevSection()">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button type="button" class="nav-btn next-btn" onclick="nextSection()">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Preview & Templates -->
        <div class="right-panel">
            <!-- Quick Preview -->
            <div class="preview-container">
                <div class="preview-header">
                    <h2><i class="fas fa-eye"></i> Live Preview</h2>
                    <button class="refresh-btn" onclick="updatePreview()" title="Refresh Preview">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <div class="preview-wrapper">
                    <div class="preview-iframe-container">
                        <iframe id="cvPreview" src="about:blank"></iframe>
                    </div>
                    <div class="preview-actions">
                        <button class="preview-action-btn" onclick="printPreview()">
                            <i class="fas fa-print"></i> Print
                        </button>
                        <button class="preview-action-btn" onclick="downloadPreview()">
                            <i class="fas fa-download"></i> Save Image
                        </button>
                    </div>
                </div>
            </div>

            <!-- Template Selection -->
            <div class="templates-container">
                <h2><i class="fas fa-palette"></i> Choose Template</h2>
                <div class="templates-grid">
                    <div class="template-card active" data-template="modern">
                        <div class="template-preview">
                            <div class="template-design modern-design">
                                <div class="design-sidebar"></div>
                                <div class="design-main">
                                    <div class="design-line"></div>
                                    <div class="design-line short"></div>
                                    <div class="design-line"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Modern</h3>
                            <p>Clean, professional design</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('modern')">
                            Select
                        </button>
                    </div>

                    <div class="template-card" data-template="executive">
                        <div class="template-preview">
                            <div class="template-design executive-design">
                                <div class="design-header"></div>
                                <div class="design-content">
                                    <div class="design-line"></div>
                                    <div class="design-line"></div>
                                    <div class="design-line short"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Executive</h3>
                            <p>Elegant, corporate style</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('executive')">
                            Select
                        </button>
                    </div>

                    <div class="template-card" data-template="creative">
                        <div class="template-preview">
                            <div class="template-design creative-design">
                                <div class="design-left"></div>
                                <div class="design-right">
                                    <div class="design-circle"></div>
                                    <div class="design-line"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Creative</h3>
                            <p>Modern with color accents</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('creative')">
                            Select
                        </button>
                    </div>
                </div>
            </div>

            <!-- Generate Button -->
            <div class="generate-section">
                <button class="generate-btn" onclick="generateCV()">
                    <i class="fas fa-magic"></i> Generate Professional CV
                </button>
                <p class="generate-hint">Your CV will open in a new window for printing/downloading</p>
            </div>
        </div>
    </main>

    <!-- Toast Notifications -->
    <div id="toastContainer"></div>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>