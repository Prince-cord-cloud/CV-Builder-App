<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProCV Builder | Create Professional Resumes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Add this before the closing body tag in index.html -->
<script src="script.js"></script>
<script src="preview.js"></script>
<script src="ai-suggestions.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-file-alt"></i>
                <h1>Pro<span>CV</span> Builder</h1>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="exportPDF()">
                    <i class="fas fa-download"></i> Export PDF
                </button>
                <button class="nav-btn primary" onclick="saveProgress()">
                    <i class="fas fa-cloud-upload-alt"></i> Save Progress
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Left Panel - Form -->
        <div class="left-panel">
            <div class="form-wrapper">
                <!-- Progress Steps -->
                <div class="progress-steps">
                    <div class="step active" data-step="1">
                        <div class="step-circle">1</div>
                        <span>Personal</span>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">2</div>
                        <span>Experience</span>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <span>Education</span>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <span>Skills</span>
                    </div>
                </div>

                <!-- Form Sections -->
                <div class="form-sections">
                    <!-- Section 1: Personal Info -->
                    <section class="form-section active" id="section-1">
                        <div class="section-header">
                            <h2><i class="fas fa-user-circle"></i> Personal Information</h2>
                            <p>Tell us about yourself</p>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="fullName">
                                    <i class="fas fa-user"></i> Full Name *
                                </label>
                                <input type="text" id="fullName" placeholder="Johnathan Smith" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="jobTitle">
                                    <i class="fas fa-briefcase"></i> Professional Title *
                                </label>
                                <input type="text" id="jobTitle" placeholder="Senior Software Engineer" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="summary">
                                <i class="fas fa-comment-alt"></i> Professional Summary
                            </label>
                            <textarea id="summary" rows="4" placeholder="Passionate software engineer with 5+ years of experience..."></textarea>
                            <div class="hint">Write 3-4 sentences about your professional background</div>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-camera"></i> Profile Photo</label>
                            <div class="image-upload-container">
                                <div class="upload-area" id="uploadArea">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Drag & drop your photo or <span>browse</span></p>
                                    <input type="file" id="profilePhoto" accept="image/*" hidden>
                                </div>
                                <div class="image-preview" id="imagePreview"></div>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label><i class="fas fa-envelope"></i> Email *</label>
                                <div id="emails-container">
                                    <div class="multi-field">
                                        <input type="email" class="email-input" placeholder="john@example.com" required>
                                        <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="add-field-btn" onclick="addEmailField()">
                                    <i class="fas fa-plus"></i> Add Another Email
                                </button>
                            </div>

                            <div class="form-group">
                                <label><i class="fas fa-phone"></i> Phone *</label>
                                <div id="phones-container">
                                    <div class="multi-field">
                                        <input type="tel" class="phone-input" placeholder="+1 (123) 456-7890" required>
                                        <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="add-field-btn" onclick="addPhoneField()">
                                    <i class="fas fa-plus"></i> Add Another Phone
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-map-marker-alt"></i> Location</label>
                            <input type="text" id="location" placeholder="San Francisco, CA">
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-globe"></i> Links</label>
                            <div id="links-container">
                                <div class="multi-field">
                                    <select class="link-type">
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="github">GitHub</option>
                                        <option value="portfolio">Portfolio</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <input type="url" class="link-url" placeholder="https://linkedin.com/in/yourprofile">
                                    <button type="button" class="field-action remove-field" onclick="removeField(this)">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="button" class="add-field-btn" onclick="addLinkField()">
                                <i class="fas fa-plus"></i> Add Link
                            </button>
                        </div>
                    </section>

                    <!-- Section 2: Experience -->
                    <section class="form-section" id="section-2">
                        <div class="section-header">
                            <h2><i class="fas fa-briefcase"></i> Work Experience</h2>
                            <p>List your professional experience</p>
                        </div>
                        
                        <div id="experience-container">
                            <div class="experience-card">
                                <div class="card-header">
                                    <h3>Experience #1</h3>
                                    <button type="button" class="card-remove" onclick="removeExperience(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Job Title *</label>
                                        <input type="text" class="exp-title" placeholder="Senior Developer" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Company *</label>
                                        <input type="text" class="exp-company" placeholder="Tech Corp Inc." required>
                                    </div>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="month" class="exp-start">
                                    </div>
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="month" class="exp-end">
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="exp-current"> Currently working here
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Location</label>
                                    <input type="text" class="exp-location" placeholder="Remote / New York, NY">
                                </div>
                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea class="exp-description" rows="4" placeholder="Describe your responsibilities and achievements..."></textarea>
                                    <div class="hint">You are recommended to use bullet points for better formatting</div>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="add-section-btn" onclick="addExperience()">
                            <i class="fas fa-plus-circle"></i> Add Experience
                        </button>
                    </section>

                    <!-- Section 3: Education -->
                    <section class="form-section" id="section-3">
                        <div class="section-header">
                            <h2><i class="fas fa-graduation-cap"></i> Education</h2>
                            <p>Add your educational background</p>
                        </div>
                        
                        <div id="education-container">
                            <div class="education-card">
                                <div class="card-header">
                                    <h3>Education #1</h3>
                                    <button type="button" class="card-remove" onclick="removeEducation(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Institution *</label>
                                        <input type="text" class="edu-institution" placeholder="University of Technology" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Degree *</label>
                                        <input type="text" class="edu-degree" placeholder="Bachelor of Science" required>
                                    </div>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Field of Study</label>
                                        <input type="text" class="edu-field" placeholder="Computer Science">
                                    </div>
                                    <div class="form-group">
                                        <label>Graduation Year</label>
                                        <input type="number" class="edu-year" placeholder="2020" min="1900" max="2030">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Achievements</label>
                                    <textarea class="edu-achievements" rows="3" placeholder="Honors, awards, or notable projects..."></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="add-section-btn" onclick="addEducation()">
                            <i class="fas fa-plus-circle"></i> Add Education
                        </button>
                    </section>

                    <!-- Section 4: Skills & Referees -->
                    <section class="form-section" id="section-4">
                        <div class="section-header">
                            <h2><i class="fas fa-tools"></i> Skills & References</h2>
                            <p>Showcase your abilities and references</p>
                        </div>
                        
                        <!-- Skills -->
                        <div class="skills-section">
                            <h3><i class="fas fa-star"></i> Skills</h3>
                            <div id="skills-container">
                                <div class="skill-tags">
                                    <div class="skill-tag">
                                        <input type="text" placeholder="JavaScript" class="skill-input">
                                        <select class="skill-level">
                                            <option value="beginner">Beginner</option>
                                            <option value="intermediate">Intermediate</option>
                                            <option value="advanced" selected>Advanced</option>
                                            <option value="expert">Expert</option>
                                        </select>
                                        <button type="button" class="tag-remove" onclick="removeSkill(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-skill-btn" onclick="addSkill()">
                                <i class="fas fa-plus"></i> Add Skill
                            </button>
                        </div>

                        <!-- Languages -->
                        <div class="skills-section">
                            <h3><i class="fas fa-language"></i> Languages</h3>
                            <div id="languages-container">
                                <div class="language-tags">
                                    <div class="language-tag">
                                        <input type="text" placeholder="English" class="language-input">
                                        <select class="language-level">
                                            <option value="native">Native</option>
                                            <option value="fluent" selected>Fluent</option>
                                            <option value="intermediate">Intermediate</option>
                                            <option value="basic">Basic</option>
                                        </select>
                                        <button type="button" class="tag-remove" onclick="removeLanguage(this)">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-skill-btn" onclick="addLanguage()">
                                <i class="fas fa-plus"></i> Add Language
                            </button>
                        </div>

                        <!-- Referees -->
                        <div class="referees-section">
                            <h3><i class="fas fa-user-check"></i> Referees</h3>
                            <div id="referees-container">
                                <div class="referee-card">
                                    <div class="card-header">
                                        <h4>Referee #1</h4>
                                        <button type="button" class="card-remove" onclick="removeReferee(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Name *</label>
                                            <input type="text" class="referee-name" placeholder="Sarah Johnson" required>
                                        </div>
                                        <div class="form-group">
                                            <label>Position</label>
                                            <input type="text" class="referee-position" placeholder="Senior Manager">
                                        </div>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Company</label>
                                            <input type="text" class="referee-company" placeholder="Tech Solutions Inc.">
                                        </div>
                                        <div class="form-group">
                                            <label>Relationship</label>
                                            <input type="text" class="referee-relationship" placeholder="Former Supervisor">
                                        </div>
                                    </div>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="referee-email" placeholder="sarah@company.com">
                                        </div>
                                        <div class="form-group">
                                            <label>Phone</label>
                                            <input type="tel" class="referee-phone" placeholder="+1 (123) 456-7890">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Additional Notes</label>
                                        <textarea class="referee-notes" rows="2" placeholder="Optional notes..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="add-section-btn" onclick="addReferee()">
                                <i class="fas fa-plus-circle"></i> Add Referee
                            </button>
                        </div>
                    </section>

                    <!-- Navigation Buttons -->
                    <div class="form-navigation">
                        <button type="button" class="nav-btn prev-btn" onclick="prevSection()">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button type="button" class="nav-btn next-btn" onclick="nextSection()">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Preview & Templates -->
        <div class="right-panel">
            <!-- Quick Preview -->
            <div class="preview-container">
                <div class="preview-header">
                    <h2><i class="fas fa-eye"></i> Live Preview</h2>
                    <button class="refresh-btn" onclick="updatePreview()" title="Refresh Preview">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <div class="preview-wrapper">
                    <div class="preview-iframe-container">
                        <iframe id="cvPreview" src="about:blank"></iframe>
                    </div>
                    <div class="preview-actions">
                        <button class="preview-action-btn" onclick="printPreview()">
                            <i class="fas fa-print"></i> Print
                        </button>
                        <button class="preview-action-btn" onclick="downloadPreview()">
                            <i class="fas fa-download"></i> Save Image
                        </button>
                    </div>
                </div>
            </div>

            <!-- Template Selection -->
            <div class="templates-container">
                <h2><i class="fas fa-palette"></i> Choose Template</h2>
                <div class="templates-grid">
                    <div class="template-card active" data-template="modern">
                        <div class="template-preview">
                            <div class="template-design modern-design">
                                <div class="design-sidebar"></div>
                                <div class="design-main">
                                    <div class="design-line"></div>
                                    <div class="design-line short"></div>
                                    <div class="design-line"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Modern</h3>
                            <p>Clean, professional design</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('modern')">
                            Select
                        </button>
                    </div>

                    <div class="template-card" data-template="executive">
                        <div class="template-preview">
                            <div class="template-design executive-design">
                                <div class="design-header"></div>
                                <div class="design-content">
                                    <div class="design-line"></div>
                                    <div class="design-line"></div>
                                    <div class="design-line short"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Executive</h3>
                            <p>Elegant, corporate style</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('executive')">
                            Select
                        </button>
                    </div>

                    <div class="template-card" data-template="creative">
                        <div class="template-preview">
                            <div class="template-design creative-design">
                                <div class="design-left"></div>
                                <div class="design-right">
                                    <div class="design-circle"></div>
                                    <div class="design-line"></div>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3>Creative</h3>
                            <p>Modern with color accents</p>
                        </div>
                        <button class="template-select-btn" onclick="selectTemplate('creative')">
                            Select
                        </button>
                    </div>
                </div>
            </div>

            <!-- Generate Button -->
            <div class="generate-section">
                <button class="generate-btn" onclick="generateCV()">
                    <i class="fas fa-magic"></i> Generate Professional CV
                </button>
                <p class="generate-hint">Your CV will open in a new window for printing/downloading</p>
            </div>
        </div>
    </main>

    <!-- Toast Notifications -->
    <div id="toastContainer"></div>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
    
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProCV Builder | Create Professional Resumes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- ====== ADD THIS CODE IMMEDIATELY HERE ====== -->
<noscript>
    <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;color:#fff;z-index:999999;padding:50px;text-align:center;font-size:24px;">
        JavaScript is required to use this CV Builder. Please enable JavaScript and refresh the page.
    </div>
</noscript>

<div id="blockerOverlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:999999;display:none;"></div>

<style id="antiInspectCSS">
    /* Prevent text selection */
    body {
        -webkit-user-select: none !important;
        -moz-user-select: none !important;
        -ms-user-select: none !important;
        user-select: none !important;
    }
    
    /* Disable dragging */
    img, a, .preview-wrapper, .template-card {
        -webkit-user-drag: none;
        -khtml-user-drag: none;
        -moz-user-drag: none;
        -o-user-drag: none;
        user-drag: none;
    }
    
    /* Hide from view source */
    body::after {
        content: " ";
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: transparent;
        pointer-events: none;
        z-index: 9999999;
    }
</style>

<script>
// ====== STRONG ANTI-INSPECTION SYSTEM ======
(function() {
    'use strict';
    
    // Immediately block common inspection methods
    if (window.location.protocol === 'file:') {
        alert('‚ö†Ô∏è For security reasons, please run this CV Builder from a web server (not local file).');
        document.body.innerHTML = '<h1 style="padding:50px;text-align:center;">Please host this CV Builder on a web server for full functionality.</h1>';
        return;
    }
    
    // ====== BLOCK RIGHT CLICK ======
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        showBlockMessage('Right-click is disabled');
        return false;
    });
    
    // ====== BLOCK KEYBOARD SHORTCUTS ======
    document.addEventListener('keydown', function(e) {
        // Block F12
        if (e.key === 'F12' || e.keyCode === 123) {
            e.preventDefault();
            triggerAntiDebug();
            return false;
        }
        
        // Block Ctrl+Shift+I
        if (e.ctrlKey && e.shiftKey && e.key === 'I') {
            e.preventDefault();
            triggerAntiDebug();
            return false;
        }
        
        // Block Ctrl+Shift+J
        if (e.ctrlKey && e.shiftKey && e.key === 'J') {
            e.preventDefault();
            triggerAntiDebug();
            return false;
        }
        
        // Block Ctrl+U (View Source)
        if (e.ctrlKey && e.key === 'u') {
            e.preventDefault();
            triggerAntiDebug();
            return false;
        }
        
        // Block Ctrl+S
        if (e.ctrlKey && e.key === 's') {
            e.preventDefault();
            showBlockMessage('Use the Save Progress button instead');
            return false;
        }
        
        // Block Ctrl+P
        if (e.ctrlKey && e.key === 'p') {
            e.preventDefault();
            showBlockMessage('Use the Print button in preview instead');
            return false;
        }
    });
    
    // ====== DETECT DEVTOOLS OPENING ======
    let devToolsOpen = false;
    
    // Method 1: Check window dimensions
    function checkDevTools1() {
        const threshold = 160;
        const widthMatch = window.outerWidth - window.innerWidth > threshold;
        const heightMatch = window.outerHeight - window.innerHeight > threshold;
        
        if (widthMatch || heightMatch) {
            if (!devToolsOpen) {
                devToolsOpen = true;
                showBlockMessage('Developer Tools detected. Please close to continue.');
                triggerAntiDebug();
            }
        } else {
            devToolsOpen = false;
        }
    }
    
    // Method 2: Debugger statement loop
    function checkDevTools2() {
        const start = new Date();
        debugger;
        const end = new Date();
        if (end - start > 100) {
            showBlockMessage('Debugger detected');
            triggerAntiDebug();
        }
    }
    
    // Method 3: Function constructor detection
    function checkDevTools3() {
        const element = new Image();
        Object.defineProperty(element, 'id', {
            get: function() {
                showBlockMessage('Inspection detected');
                triggerAntiDebug();
            }
        });
        console.log(element);
    }
    
    // ====== TRIGGER ANTI-DEBUG MEASURES ======
    function triggerAntiDebug() {
        // Show blocking overlay
        document.getElementById('blockerOverlay').style.display = 'block';
        
        // Create infinite debugger loop
        setInterval(function() {
            (function() {
                return false;
            }
            ['constructor']('debugger')
            ['call']());
        }, 50);
        
        // Flood console with warnings
        console.clear();
        for(let i = 0; i < 100; i++) {
            console.error('%cüö´ STOP! üö´', 'color:red;font-size:30px;font-weight:bold;');
            console.error('%cCV Builder inspection is prohibited', 'color:orange;font-size:20px;');
        }
        
        // Redirect after 3 seconds
        setTimeout(function() {
            window.location.href = window.location.href; // Refresh page
        }, 3000);
    }
    
    // ====== BLOCK CONSOLE ACCESS ======
    if (typeof console !== 'undefined') {
        // Store original console
        const originalConsole = {};
        const methods = ['log', 'warn', 'error', 'info', 'debug', 'table', 'dir', 'trace'];
        
        methods.forEach(method => {
            originalConsole[method] = console[method];
            console[method] = function() {
                // Only allow certain console messages
                if (method === 'error' || method === 'warn') {
                    originalConsole[method].apply(console, arguments);
                }
                // Block everything else
            };
        });
        
        // Block console.clear
        console.clear = function() {
            showBlockMessage('Console clearing disabled');
        };
        
        // Block console opening
        Object.defineProperty(window, 'console', {
            get: function() {
                showBlockMessage('Console access blocked');
                return {
                    log: function(){},
                    warn: function(){},
                    error: function(){},
                    info: function(){},
                    debug: function(){},
                    clear: function(){},
                    table: function(){}
                };
            },
            set: function() {
                return;
            }
        });
    }
    
    // ====== BLOCK IFRAME INSPECTION ======
    const iframe = document.getElementById('cvPreview');
    if (iframe) {
        iframe.addEventListener('load', function() {
            try {
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Block right-click in iframe
                iframeDoc.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Add invisible overlay to iframe
                const overlay = iframeDoc.createElement('div');
                overlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: transparent;
                    z-index: 999999;
                    pointer-events: none;
                `;
                iframeDoc.body.appendChild(overlay);
                
            } catch(e) {
                // Cross-origin iframe, can't modify
            }
        });
    }
    
    // ====== MOBILE PROTECTION ======
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Block long-press
        let touchTimer;
        document.addEventListener('touchstart', function(e) {
            if (e.target.closest('.preview-wrapper') || e.target.closest('#cvPreview')) {
                touchTimer = setTimeout(function() {
                    showBlockMessage('Long-press disabled');
                    e.preventDefault();
                }, 800);
            }
        });
        
        document.addEventListener('touchend', function() {
            clearTimeout(touchTimer);
        });
        
        document.addEventListener('touchmove', function() {
            clearTimeout(touchTimer);
        });
        
        // Block three-finger touch
        document.addEventListener('touchstart', function(e) {
            if (e.touches.length > 2) {
                showBlockMessage('Multi-touch disabled');
                e.preventDefault();
            }
        });
    }
    
    // ====== SHOW BLOCK MESSAGE ======
    function showBlockMessage(message) {
        // Create message element
        let msgBox = document.getElementById('blockMessage');
        if (!msgBox) {
            msgBox = document.createElement('div');
            msgBox.id = 'blockMessage';
            msgBox.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 1000000;
                font-family: 'Poppins', sans-serif;
                font-size: 14px;
                box-shadow: 0 5px 15px rgba(255, 68, 68, 0.3);
                max-width: 300px;
                animation: slideIn 0.3s ease;
                border-left: 5px solid #ffaa00;
                display: none;
            `;
            document.body.appendChild(msgBox);
            
            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    25% { transform: translateX(-5px); }
                    75% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        }
        
        msgBox.textContent = 'üö´ ' + message;
        msgBox.style.display = 'block';
        msgBox.style.animation = 'slideIn 0.3s ease, shake 0.5s ease 0.3s';
        
        // Auto-hide
        setTimeout(function() {
            msgBox.style.display = 'none';
        }, 3000);
    }
    
    // ====== OBFUSCATE SOURCE CODE ======
    // Clear page source on unload
    window.addEventListener('beforeunload', function() {
        document.body.innerHTML = '<div style="padding:50px;text-align:center;"><h1>CV Builder</h1><p>Loading...</p></div>';
    });
    
    // ====== START PROTECTION CHECKS ======
    // Run multiple detection methods
    setInterval(checkDevTools1, 1000);
    
    // Run debugger check occasionally
    setInterval(function() {
        try {
            checkDevTools2();
        } catch(e) {
            // Debugger was triggered
        }
    }, 5000);
    
    // Run function constructor check
    setTimeout(checkDevTools3, 3000);
    
    // ====== PREVENT VIEW SOURCE ======
    // Block iframe embedding
    if (window.top !== window.self) {
        try {
            window.top.location = window.self.location;
        } catch(e) {
            document.body.innerHTML = '<h1 style="color:red;padding:50px;text-align:center;">This CV Builder cannot be embedded in iframes.</h1>';
        }
    }
    
    // ====== FINAL PROTECTION ======
    // Make source code hard to read
    document.addEventListener('DOMContentLoaded', function() {
        // Add random comments to confuse source viewers
        const comment = document.createComment(`
            CV Builder Protected Code - Do Not Inspect
            Generated: ${new Date().toISOString()}
            Security Level: Maximum
            Unauthorized access prohibited
        `);
        document.insertBefore(comment, document.documentElement);
        
        // Obfuscate JavaScript function names
        window['CV_BUILDER_PROTECTION_ACTIVE'] = true;
    });
    
    console.log('%cüõ°Ô∏è CV Builder Protection Active', 'color:green;font-size:16px;font-weight:bold;');
    
})();
</script>
<!-- ====== END OF ANTI-INSPECTION CODE ====== -->

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-file-alt"></i>
                <h1>Pro<span>CV</span> Builder</h1>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="exportPDF()">
                    <i class="fas fa-download"></i> Export PDF
                </button>
                <button class="nav-btn primary" onclick="saveProgress()">
                    <i class="fas fa-cloud-upload-alt"></i> Save Progress
                </button>
            </div>
        </div>
    </nav>
    <!-- ... rest of your HTML ... -->
</body>
</html>